// Generated by CoffeeScript 1.6.3
(function() {
  jQuery(function() {
    var refreshHiddenValue;
    refreshHiddenValue = function() {
      var values;
      values = [];
      $('.majors_widget li.major select').each(function() {
        return values.push($(this).val());
      });
      return $('.majors_widget input[type="hidden"]').val(values.join(','));
    };
    $(document).on('change', '.major select', function() {
      return refreshHiddenValue();
    });
    $('.majors_widget #add_major').click(function() {
      var id, newMajor;
      console.log('Test');
      id = $(this).parents('div.majors_widget').attr('id');
      newMajor = $('li#' + id + '_hidden').clone().removeClass('hide').addClass('major');
      newMajor.removeAttr('id');
      newMajor.appendTo('#' + id + ' .majors');
      return refreshHiddenValue();
    });
    return $(document).on('click', 'button.remove_major', function() {
      $(this).parents('.major').remove();
      return refreshHiddenValue();
    });
  });

}).call(this);
