// Generated by CoffeeScript 1.6.3
(function() {
  jQuery(function() {
    var refreshHiddenValue;
    refreshHiddenValue = function() {
      var values;
      values = [];
      $('.majors_widget div.major select').each(function() {
        return values.push($(this).val());
      });
      return $('.majors_widget input[type="hidden"]').val(values.join(','));
    };
    $(document).on('change', 'div.major select', function() {
      return refreshHiddenValue();
    });
    $('.majors_widget #add_major').click(function() {
      var id, newMajor;
      id = $(this).parents('div.majors_widget').attr('id');
      newMajor = $('select#' + id + '_hidden').parent().clone().removeClass('hide').addClass('major');
      newMajor.find('select').removeAttr('id');
      newMajor.appendTo('div#' + id + ' .majors');
      return refreshHiddenValue();
    });
    return $(document).on('click', '#remove_major', function() {
      $(this).parents('div.major').remove();
      return refreshHiddenValue();
    });
  });

}).call(this);
